local player = game:GetService("Players").LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- Create main UI container
local Freecam = Instance.new("ScreenGui")
Freecam.Parent = PlayerGui

-- Function to add rounded corners
local function addRoundedCorners(instance, radius)
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, radius)
    UICorner.Parent = instance
end

-- Create primary frame
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0.7, 0, 0.4, 0)  -- Adjusting size to be more mobile-friendly
Frame.Position = UDim2.new(0.15, 0, 0.3, 0)  -- Center the frame with some padding
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Dark gray
Frame.Parent = Freecam
addRoundedCorners(Frame, 6)

-- Create side panel
local SidePanel = Instance.new("Frame")
SidePanel.Size = UDim2.new(0.25, 0, 0.85, 0)  -- Resize for mobile
SidePanel.Position = UDim2.new(0.02, 0, 0.05, 0)
SidePanel.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Slightly lighter gray
SidePanel.Parent = Frame
addRoundedCorners(SidePanel, 6)

-- Create main panel
local MainPanel = Instance.new("Frame")
MainPanel.Size = UDim2.new(0.55, 0, 0.85, 0)  -- Resize for mobile
MainPanel.Position = UDim2.new(0.35, 0, 0.05, 0)
MainPanel.BackgroundColor3 = Color3.fromRGB(60, 60, 60) -- Even lighter gray
MainPanel.Parent = Frame
addRoundedCorners(MainPanel, 6)

-- Create title bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0.1, 0)  -- Adjusted for mobile screen size
TitleBar.Position = UDim2.new(0, 0, -0.107, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- Darkest gray
TitleBar.Parent = Frame
addRoundedCorners(TitleBar, 6)

-- Create "X" button to close the GUI
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 40, 0, 40)  -- Adjusted button size
CloseButton.Position = UDim2.new(1, -50, 0, -10)  -- Position in top-right corner
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Red color
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Text = "X"
CloseButton.TextSize = 20
CloseButton.Parent = TitleBar
addRoundedCorners(CloseButton, 6)

-- Hover effect for "X" button
CloseButton.MouseEnter:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0) -- Darker red on hover
end)

CloseButton.MouseLeave:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Back to original red
end)

-- Click effect to close the GUI
CloseButton.MouseButton1Click:Connect(function()
    Freecam:Destroy() -- Destroy the whole GUI when the button is clicked
end)

-- Create buttons function
local function createButton(parent, position, text)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 120, 0, 40)  -- Larger buttons for easier tap
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(70, 70, 70) -- Button gray
    button.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text
    button.Text = text
    button.TextSize = 18  -- Slightly smaller text size for mobile
    button.Parent = parent
    addRoundedCorners(button, 6)
end

-- Add buttons with labels
createButton(Frame, UDim2.new(0.05, 0, 0.15, 0), "Option 1")
createButton(Frame, UDim2.new(0.05, 0, 0.25, 0), "Option 2")
createButton(Frame, UDim2.new(0.05, 0, 0.35, 0), "Option 3")
createButton(Frame, UDim2.new(0.05, 0, 0.45, 0), "Option 4")

createButton(Frame, UDim2.new(0.55, 0, 0.15, 0), "Action 1")
createButton(Frame, UDim2.new(0.55, 0, 0.25, 0), "Action 2")
createButton(Frame, UDim2.new(0.55, 0, 0.35, 0), "Action 3")
createButton(Frame, UDim2.new(0.55, 0, 0.45, 0), "Action 4")

createButton(Frame, UDim2.new(0.75, 0, 0.15, 0), "Mode 1")
createButton(Frame, UDim2.new(0.75, 0, 0.25, 0), "Mode 2")
createButton(Frame, UDim2.new(0.75, 0, 0.35, 0), "Mode 3")
createButton(Frame, UDim2.new(0.75, 0, 0.45, 0), "Mode 4")

-- Create text label
local TextLabel = Instance.new("TextLabel")
TextLabel.Size = UDim2.new(0, 150, 0, 40)  -- Resize label
TextLabel.Position = UDim2.new(0.35, 0, -0.107, 0)
TextLabel.BackgroundColor3 = Color3.fromRGB(80, 80, 80) -- Label background
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White text
TextLabel.Text = "Title"
TextLabel.TextSize = 22  -- Resize the text
TextLabel.Parent = Frame
addRoundedCorners(TextLabel, 6)

-- Create scrolling frame
local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Size = UDim2.new(0.25, 0, 0.85, 0)  -- Resize scrolling frame for mobile
ScrollingFrame.Position = UDim2.new(0.02, 0, 0.05, 0)
ScrollingFrame.BackgroundColor3 = Color3.fromRGB(90, 90, 90) -- Scrolling panel background
ScrollingFrame.Parent = Frame
addRoundedCorners(ScrollingFrame, 6)
